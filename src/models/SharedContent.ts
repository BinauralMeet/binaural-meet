import {MapObject, Pose2DMap} from './MapObject'

export type ContentType = 'img' | 'text' | 'pdf' | 'youtube' | 'iframe' | 'screen' | 'camera' |
  'gdrive' | 'whiteboard' | ''

export interface SharedContentData {
  zorder: number                  //  unix timestamp when shared or moved to top.
  name: string                    //  name or title of the content.
  ownerName: string               //  name of the initial owner
  color:number[]                  //  color in the left var
  textColor:number[]              //  textColor in the left var
  type: ContentType               //  content type ('img', etc)
  url: string                     //  url or text to share
  pose: Pose2DMap                 //  position and orientation
  size: [number, number]          //  current size of the content
  originalSize: [number, number]  //  original size of the content or [0, 0]
  pinned: boolean                 //  pinned (not resizable or resizable)
  noFrame: boolean                //  no (invisible) frame
}
export interface SharedContentId{
  id: string                      //  unique ID (generated by participant id + number)
}
export interface SharedContent extends MapObject, SharedContentData, SharedContentId {
  zIndex?: number
}

export interface WallpaperStore {
  room: string
  contents: SharedContentData[]
}

export interface TextMessage {
  message: string, //  text to display
  name: string, //  The name of whom create this text
  color?:number[]        //  background color
  textColor?:number[]    //  textColor
  pid: string,  //  The pid of whom create this text
  time: number, //  Timestamp when this message created.
}
export interface TextMessages {
  messages: TextMessage[]
  scroll: [number, number]
}

export function compTextMessage(t1: TextMessage, t2: TextMessage) {
  return t1.time - t2.time
}
